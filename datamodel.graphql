enum Category {
	MUSIC
	ARTS_THEATRE
	SPORTS
	MISCELLANEOUS
}

enum Permission {
	FREE
	MONTHLY
	YEARLY
	ADMIN
}

enum Gender {
	MALE
	FEMALE
	OTHER
}

enum GenderPrefs {
	MALE
	FEMALE
	OTHER
	FRIENDS
}

type User {
	id: ID! @unique
	firstName: String!
	lastName: String!
	password: String!
	gender: Gender
	dob: String
	location: String
	email: String! @unique
	phone: String @unique
	biography: String
	img: [ProfilePic!]! @relation(name: "UserImage", onDelete: CASCADE)
	resetToken: String
	resetTokenExpiry: Float
	interests: [Genre]
	events: [Event!]!
	genderPrefs: [GenderPrefs]
	minAgePref: Int
	maxAgePref: Int
	permissions: Permission!
	createdAt: DateTime!
	updatedAt: DateTime!
	stripeCustomerId: String
	stripeSubscriptionId: String
	liked: [User!]! @relation(name: "LikedUser", onDelete: CASCADE)
	blocked: [User!]! @relation(name: "BlockedUser", onDelete: CASCADE)
	chats: [Chat!]!
	verified: Boolean @default(value: "false")
}

type Chat {
	id: ID! @unique
	users: [User!]!
	messages: [DirectMessage!]!
	typing: User
}

type DirectMessage {
	id: ID! @unique
	text: String!
	from: User! @relation(name: "FromUser")
	to: User! @relation(name: "ToUser")
	createdAt: DateTime!
	seen: Boolean @default(value: "false")
	updatedAt: DateTime!
	chat: Chat!
}

type ProfilePic {
	id: ID! @unique
	user: User! @relation(name: "UserImage")
	img_url: String!
	default: Boolean! @default(value: "false")
}

type Event {
	id: ID! @unique
	tmID: String! @unique
	title: String!
	venue: String!
	image_url: String!
	times: [String]!
	city: String!
	genre: String!
	category: String!
	attending: [User!]!
}

type Genre {
	id: ID! @unique
	tmID: String!
	category: Category!
	name: String!
}
